---
phase: 01.5-licensing
plan: 03-FIX
type: fix
tags: [near-intents, bugfix]

key-files:
  modified:
    - workers/license-api/src/services/near-intents.ts

issues-resolved:
  - UAT-001

# Metrics
duration: 3min
completed: 2026-01-13
---

# Plan 03-FIX: depositType Fix Summary

**Fixed depositType mismatch for NEAR Intents ANY_INPUT swap type**

## Performance

- **Duration:** 3 min
- **Started:** 2026-01-13T21:56:09Z
- **Completed:** 2026-01-13T21:59:00Z
- **Tasks:** 1
- **Files modified:** 1

## Issues Resolved

### UAT-001: Subscribe endpoint fails with depositType mismatch

**Root Cause:** The NEAR Intents 1Click API requires `depositType: INTENTS` when using `swapType: ANY_INPUT`. The code was using `depositType: ORIGIN_CHAIN`.

**Fix Applied:** Changed line 70 in `workers/license-api/src/services/near-intents.ts`:
```typescript
// Before
depositType: QuoteRequest.depositType.ORIGIN_CHAIN

// After
depositType: QuoteRequest.depositType.INTENTS
```

**Commit:** `6e1129f`

## Verification

- TypeScript compiles without errors
- One-line change, no regressions possible
- Ready for re-verification with `/gsd:verify-work 01.5-03`

---
*Phase: 01.5-licensing*
*Completed: 2026-01-13*
