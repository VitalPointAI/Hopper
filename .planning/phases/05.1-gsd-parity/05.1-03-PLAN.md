---
phase: 05.1-gsd-parity
plan: 03
type: execute
---

<objective>
Implement verification and fix commands: /verify-work, /plan-fix, /resume-task.

Purpose: Enable user acceptance testing workflow, fix planning for issues found, and task resumption after interruption.
Output: Working UAT and fix workflow commands.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**GSD references:**
@~/.claude/commands/gsd/verify-work.md
@~/.claude/commands/gsd/plan-fix.md
@~/.claude/commands/gsd/resume-task.md
@~/.claude/get-shit-done/templates/uat-issues.md

**Key patterns:**
- Plan generation (03-03)
- Issue tracking (05-03 /consider-issues)
- Checkpoint execution (04-02)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create verify-work command</name>
  <files>src/chat/commands/verifyWork.ts</files>
  <action>
Create /verify-work command that:

1. Accepts optional phase number (defaults to current phase from STATE.md)
2. Loads recent SUMMARY.md files for the phase to understand what was built
3. Generates UAT checklist based on:
   - Tasks completed in phase
   - Verification criteria from PLAN.md files
   - Expected behaviors from task descriptions
4. Presents interactive UAT guide:
   - What to test
   - How to test it
   - Expected outcomes
5. Allows user to report issues:
   - Offer "Report issue" button for each test item
   - Collect issue descriptions
6. If issues reported:
   - Create {plan}-ISSUES.md in phase directory
   - Template structure: issue ID, description, severity, steps to reproduce
   - Suggest /plan-fix to create fix plan
7. If no issues:
   - Confirm phase verified successfully
   - Update STATE.md or add verification note

This is manual acceptance testing guided by the plan structure.
  </action>
  <verify>TypeScript compiles without errors</verify>
  <done>Verify-work guides UAT and captures issues</done>
</task>

<task type="auto">
  <name>Task 2: Create plan-fix command</name>
  <files>src/chat/commands/planFix.ts</files>
  <action>
Create /plan-fix command that:

1. Accepts plan identifier (e.g., "05-01" or just finds latest ISSUES.md)
2. Reads the {plan}-ISSUES.md file
3. For each issue:
   - Analyzes what needs to be fixed
   - Identifies affected files
   - Generates fix tasks
4. Creates {plan}-FIX-PLAN.md with:
   - References to original plan and issues
   - Tasks to fix each issue
   - Verification criteria
5. If multiple issues, may split into multiple fix plans
6. Commits: "docs({plan}-FIX): plan fixes for UAT issues"
7. Offers to execute: "Execute fix plan now? /execute-plan {path}"

Fix plans follow same structure as regular plans but are scoped to fixing specific issues.
  </action>
  <verify>TypeScript compiles, fix plans generate correctly</verify>
  <done>Plan-fix creates fix plans from ISSUES.md</done>
</task>

<task type="auto">
  <name>Task 3: Create resume-task and register all</name>
  <files>src/chat/commands/resumeTask.ts, src/chat/commands/index.ts</files>
  <action>
Create /resume-task command that:

1. Checks GlobalState for checkpoint state (from 04-02 execution)
2. If checkpoint exists:
   - Display what task was interrupted
   - What was completed before interruption
   - Offer to resume from checkpoint or restart task
3. If no checkpoint:
   - Check for incomplete plans (PLAN without SUMMARY)
   - Offer to continue from first incomplete plan
4. Routes to /execute-plan with appropriate position

This is for resuming interrupted execution, distinct from /resume-work which restores session context.

In index.ts:
1. Import all three handlers
2. Add to COMMAND_DEFINITIONS:
   - { name: 'verify-work', description: 'Guide manual user acceptance testing' }
   - { name: 'plan-fix', description: 'Plan fixes for UAT issues' }
   - { name: 'resume-task', description: 'Resume interrupted task execution' }
3. Register all handlers

Update /help output and follow-up suggestions.
  </action>
  <verify>npm run compile succeeds, all commands work</verify>
  <done>UAT and fix workflow complete</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run compile` succeeds without errors
- [ ] `/verify-work` generates UAT checklist from summaries
- [ ] `/verify-work` captures issues to ISSUES.md
- [ ] `/plan-fix` creates fix plans from issues
- [ ] `/resume-task` finds and resumes from checkpoints
- [ ] /help shows all new commands
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- UAT workflow matches GSD framework
</success_criteria>

<output>
After completion, create `.planning/phases/05.1-gsd-parity/05.1-03-SUMMARY.md`
</output>
