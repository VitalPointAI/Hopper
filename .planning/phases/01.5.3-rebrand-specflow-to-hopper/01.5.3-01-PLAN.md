---
phase: 01.5.3-rebrand-specflow-to-hopper
plan: 01
type: execute
---

<objective>
Rebrand the VSCode extension from SpecFlow to Hopper across all user-facing references.

Purpose: Unify the product name to Hopper for all user-facing interactions (@specflow → @hopper, display names, error messages).
Output: Updated extension with @hopper chat participant, hopper.* commands, and Hopper display name.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Rebrand scope:**
- Chat participant: @specflow → @hopper
- Display name: SpecFlow → Hopper
- Commands: specflow.* → hopper.*
- Config keys: specflow.* → hopper.*
- Storage keys: specflow.* → hopper.*
- URI scheme: vscode://vitalpointai.specflow → vscode://vitalpointai.hopper

**Out of scope (keep unchanged):**
- NEAR contract ID: license.specflow.near (infrastructure, not user-facing)
- Admin wallet: specflow.near (infrastructure)
- Worker subdomain: specflow-license-api.vitalpointai.workers.dev (updated in Plan 02)
- Planning docs (.planning/*) - internal documentation
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update package.json identity</name>
  <files>package.json</files>
  <action>
Update all user-facing identifiers in package.json:
- name: "specflow" → "hopper"
- displayName: "SpecFlow" → "Hopper"
- chatParticipants[0].id: "specflow.chat-participant" → "hopper.chat-participant"
- chatParticipants[0].name: "specflow" → "hopper"
- chatParticipants[0].fullName: "SpecFlow" → "Hopper"
- activationEvents: "onChatParticipant:specflow.chat-participant" → "onChatParticipant:hopper.chat-participant"
- languageModelChatProviders[0].managementCommand: "specflow.manageNearAi" → "hopper.manageNearAi"
- All command IDs: specflow.* → hopper.*
- configuration.title: "SpecFlow" → "Hopper"
- All configuration property keys: specflow.* → hopper.* (e.g., specflow.license.contractId → hopper.license.contractId)
- All command categories: "SpecFlow" → "Hopper"

Keep description text unchanged (model-agnostic structured planning).
  </action>
  <verify>grep -E "specflow|SpecFlow" package.json shows only legitimate references (description text may mention structured planning)</verify>
  <done>package.json uses "hopper" for name, "Hopper" for displayName, and hopper.* for all command/config IDs</done>
</task>

<task type="auto">
  <name>Task 2: Update extension activation and commands</name>
  <files>src/extension.ts</files>
  <action>
Update all references in extension.ts:
- Import: createSpecflowParticipant → createHopperParticipant (update import path if needed)
- Console logs: "SpecFlow extension" → "Hopper extension", "SpecFlow chat participant" → "Hopper chat participant"
- Comment: "@specflow chat participant" → "@hopper chat participant"
- Command registrations: 'specflow.*' → 'hopper.*' for all commands:
  - specflow.manageNearAi → hopper.manageNearAi
  - specflow.showUpgradeModal → hopper.showUpgradeModal
  - specflow.connect → hopper.connect
  - specflow.disconnect → hopper.disconnect
  - specflow.connectWallet → hopper.connectWallet
  - specflow.startWalletAuth → hopper.startWalletAuth
  - specflow.startWalletAuthForPayment → hopper.startWalletAuthForPayment
  - specflow.startOAuthForPayment → hopper.startOAuthForPayment
  - specflow.disconnectWallet → hopper.disconnectWallet
- Chat participant command shortcuts array: specflow.chat-participant.* → hopper.chat-participant.*
- Chat query: "@specflow" → "@hopper"
- URI handler message: "@specflow" → "@hopper"
- GlobalState key: 'specflow.pendingPayment' → 'hopper.pendingPayment'
- Status message: "SpecFlow Pro" → "Hopper Pro"
  </action>
  <verify>grep -c "specflow" src/extension.ts returns 0 (no remaining specflow references)</verify>
  <done>extension.ts uses hopper.* for all commands and @hopper for chat participant</done>
</task>

<task type="auto">
  <name>Task 3: Update chat participant module</name>
  <files>src/chat/specflowParticipant.ts</files>
  <action>
Update chat participant and rename file:
1. Rename file: src/chat/specflowParticipant.ts → src/chat/hopperParticipant.ts
2. Update function name: createSpecflowParticipant → createHopperParticipant
3. Update system prompt: "You are SpecFlow" → "You are Hopper", "SpecFlow helps organize" → "Hopper helps organize"
4. Update context messages: "SpecFlow planning" → "Hopper planning", "SpecFlow project" → "Hopper project"
5. Update participant registration ID: 'specflow.chat-participant' → 'hopper.chat-participant'
6. Update type exports: ISpecflowResult → IHopperResult (also in types.ts)
7. Update all imports that reference specflowParticipant

Also update src/chat/commands/types.ts:
- ISpecflowResult → IHopperResult
  </action>
  <verify>Test: File src/chat/hopperParticipant.ts exists and src/chat/specflowParticipant.ts does not exist</verify>
  <done>Chat participant renamed to hopperParticipant.ts with all internal references updated to Hopper</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run compile` succeeds without errors
- [ ] grep -r "specflow" src/ --include="*.ts" returns no matches (excluding comments about migration)
- [ ] package.json name is "hopper"
- [ ] Chat participant file renamed to hopperParticipant.ts
</verification>

<success_criteria>

- All tasks completed
- Extension compiles without errors
- No "specflow" references remain in src/ (except infrastructure URLs)
- Ready for Plan 02 (Worker rebrand)
</success_criteria>

<output>
After completion, create `.planning/phases/01.5.3-rebrand-specflow-to-hopper/01.5.3-01-SUMMARY.md`:

# Phase 01.5.3 Plan 01: Extension Rebrand Summary

**[Substantive one-liner about what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Any decisions during execution]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 01.5.3-02-PLAN.md (Worker rebrand)
</output>
